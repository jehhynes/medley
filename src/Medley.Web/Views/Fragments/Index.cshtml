@model Guid?

@{
    ViewData["Title"] = "Fragments";
    ViewData["HasRightSidebar"] = false;
    ViewData["HasLeftSidebar"] = true;

    // Only open sidebar on mobile if no specific record is selected
    var openSidebarOnMobile = Model == null;
    ViewData["OpenSidebarOnMobile"] = openSidebarOnMobile;
    
    Layout = "_VueLayout";
}

@section Styles {
    <style>
        /* Make main content use flexbox for proper layout */
        .main-content {
            display: flex;
            flex-direction: column;
            height: 100%;
            overflow: hidden;
            padding: 0;
        }
        
        .main-content-header {
            flex-shrink: 0;
            padding: 2rem 2.5rem 1.5rem 2.5rem;
            margin-bottom: 0!important;
        }
        
        /* Fragment content area - scrollable */
        .fragment-content-area {
            flex: 1;
            overflow-y: auto;
            padding: 0 2.5rem 2rem 2.5rem;
        }
        
        /* Content preview - let it flow naturally */
        .fragment-content {
            white-space: pre-wrap;
            word-wrap: break-word;
        }
    </style>
}

@* Vue template has been moved to wwwroot/js/pages/fragments.js *@
@* This is an intermediate step before full migration to .vue SFC *@
<div id="app"></div>

@section Scripts {
    <script src="~/lib/marked/marked.min.js" asp-append-version="true"></script>
    <script src="~/js/app.js" asp-append-version="true"></script>
    <script src="~/js/utils.js" asp-append-version="true"></script>
    <script src="~/js/url-utils.js" asp-append-version="true"></script>
    <script src="~/js/dist/app.js" asp-append-version="true"></script>
    <script src="~/js/pages/fragments.js" asp-append-version="true"></script>
}
